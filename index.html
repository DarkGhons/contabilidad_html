<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceTracker - Gesti√≥n Financiera Personal</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-chart-line"></i>
                <span>FinanceTracker</span>
            </div>
            
            <div class="nav-actions">
                <!-- Language Selector -->
                <div class="language-selector">
                    <select id="languageSelect">
                        <option value="es">üá™üá∏ Espa√±ol</option>
                        <option value="en">üá∫üá∏ English</option>
                        <option value="fr">üá´üá∑ Fran√ßais</option>
                    </select>
                </div>
                
                <!-- User Menu -->
                <div class="user-menu">
                    <button class="user-btn" id="userMenuBtn">
                        <i class="fas fa-user-circle"></i>
                        <span>Usuario</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#"><i class="fas fa-user"></i> Perfil</a>
                        <a href="#"><i class="fas fa-cog"></i> Configuraci√≥n</a>
                        <a href="#"><i class="fas fa-bell"></i> Notificaciones</a>
                        <hr>
                        <a href="#"><i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Financial Summary Cards -->
        <section class="financial-summary">
            <h2>Resumen Financiero</h2>
            <div class="summary-cards">
                <div class="card income-card">
                    <div class="card-header">
                        <i class="fas fa-arrow-up"></i>
                        <h3>Ingresos del Mes</h3>
                    </div>
                    <div class="card-value">
                        <span class="amount" id="monthlyIncome">‚Ç¨2,450.00</span>
                        <span class="change positive">+12.5%</span>
                    </div>
                </div>
                
                <div class="card expense-card">
                    <div class="card-header">
                        <i class="fas fa-arrow-down"></i>
                        <h3>Gastos del Mes</h3>
                    </div>
                    <div class="card-value">
                        <span class="amount" id="monthlyExpenses">‚Ç¨1,890.50</span>
                        <span class="change negative">+8.2%</span>
                    </div>
                </div>
                
                <div class="card savings-card">
                    <div class="card-header">
                        <i class="fas fa-piggy-bank"></i>
                        <h3>Ahorro del Mes</h3>
                    </div>
                    <div class="card-value">
                        <span class="amount" id="monthlySavings">‚Ç¨559.50</span>
                        <span class="change positive">+22.8%</span>
                    </div>
                </div>
                
                <div class="card balance-card">
                    <div class="card-header">
                        <i class="fas fa-wallet"></i>
                        <h3>Balance Total</h3>
                    </div>
                    <div class="card-value">
                        <span class="amount" id="totalBalance">‚Ç¨12,340.75</span>
                        <span class="change positive">+5.1%</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="quick-actions">
            <h2>Acciones R√°pidas</h2>
            <div class="action-buttons">
                <button class="action-btn primary" id="newTransactionBtn">
                    <i class="fas fa-plus"></i>
                    <span>Nueva Transacci√≥n</span>
                </button>
                <button class="action-btn secondary" id="scanReceiptBtn">
                    <i class="fas fa-camera"></i>
                    <span>Escanear Recibo</span>
                </button>
                <button class="action-btn secondary" id="importDataBtn">
                    <i class="fas fa-file-import"></i>
                    <span>Importar Datos</span>
                </button>
                <button class="action-btn secondary" id="createGoalBtn">
                    <i class="fas fa-target"></i>
                    <span>Crear Objetivo</span>
                </button>
            </div>
        </section>

        <!-- Financial Trend Chart -->
        <section class="chart-section">
            <div class="chart-header">
                <h2>Tendencia Financiera</h2>
                <div class="chart-controls">
                    <div class="time-filters">
                        <button class="time-btn active" data-period="daily">Diario</button>
                        <button class="time-btn" data-period="weekly">Semanal</button>
                        <button class="time-btn" data-period="monthly">Mensual</button>
                        <button class="time-btn" data-period="yearly">Anual</button>
                    </div>
                    <div class="chart-legend">
                        <label class="legend-item">
                            <input type="checkbox" checked data-dataset="income">
                            <span class="legend-color income"></span>
                            Ingresos
                        </label>
                        <label class="legend-item">
                            <input type="checkbox" checked data-dataset="expenses">
                            <span class="legend-color expenses"></span>
                            Gastos
                        </label>
                        <label class="legend-item">
                            <input type="checkbox" checked data-dataset="savings">
                            <span class="legend-color savings"></span>
                            Ahorros
                        </label>
                    </div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="financialChart"></canvas>
            </div>
        </section>

        <!-- Additional Information Panel -->
        <section class="info-panel">
            <div class="panel-left">
                <!-- Recent Transactions -->
                <div class="transactions-section">
                    <h3>Transacciones Recientes</h3>
                    <div class="transactions-list" id="transactionsList">
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="transaction-details">
                                <span class="transaction-title">Supermercado</span>
                                <span class="transaction-category">Alimentaci√≥n</span>
                                <span class="transaction-date">Hoy, 14:30</span>
                            </div>
                            <span class="transaction-amount expense">-‚Ç¨45.20</span>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon income">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div class="transaction-details">
                                <span class="transaction-title">Salario</span>
                                <span class="transaction-category">Trabajo</span>
                                <span class="transaction-date">Ayer, 09:00</span>
                            </div>
                            <span class="transaction-amount income">+‚Ç¨2,450.00</span>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon expense">
                                <i class="fas fa-gas-pump"></i>
                            </div>
                            <div class="transaction-details">
                                <span class="transaction-title">Gasolina</span>
                                <span class="transaction-category">Transporte</span>
                                <span class="transaction-date">20 Ago, 18:45</span>
                            </div>
                            <span class="transaction-amount expense">-‚Ç¨65.00</span>
                        </div>
                    </div>
                    <button class="view-all-btn">Ver Todas las Transacciones</button>
                </div>
            </div>
            
            <div class="panel-right">
                <!-- Expense Categories -->
                <div class="categories-section">
                    <h3>Categor√≠as de Gastos</h3>
                    <div class="category-list">
                        <div class="category-item">
                            <div class="category-info">
                                <span class="category-name">Alimentaci√≥n</span>
                                <span class="category-amount">‚Ç¨450.30</span>
                            </div>
                            <div class="category-bar">
                                <div class="category-progress" style="width: 65%"></div>
                            </div>
                        </div>
                        
                        <div class="category-item">
                            <div class="category-info">
                                <span class="category-name">Transporte</span>
                                <span class="category-amount">‚Ç¨320.80</span>
                            </div>
                            <div class="category-bar">
                                <div class="category-progress" style="width: 45%"></div>
                            </div>
                        </div>
                        
                        <div class="category-item">
                            <div class="category-info">
                                <span class="category-name">Entretenimiento</span>
                                <span class="category-amount">‚Ç¨180.50</span>
                            </div>
                            <div class="category-bar">
                                <div class="category-progress" style="width: 25%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Financial Goals -->
                <div class="goals-section">
                    <h3>Objetivos Financieros</h3>
                    <div class="goal-item">
                        <div class="goal-header">
                            <span class="goal-name">Vacaciones de Verano</span>
                            <span class="goal-progress-text">‚Ç¨1,200 / ‚Ç¨2,000</span>
                        </div>
                        <div class="goal-bar">
                            <div class="goal-progress" style="width: 60%"></div>
                        </div>
                        <span class="goal-deadline">Meta: Junio 2024</span>
                    </div>
                    
                    <div class="goal-item">
                        <div class="goal-header">
                            <span class="goal-name">Fondo de Emergencia</span>
                            <span class="goal-progress-text">‚Ç¨3,500 / ‚Ç¨5,000</span>
                        </div>
                        <div class="goal-bar">
                            <div class="goal-progress" style="width: 70%"></div>
                        </div>
                        <span class="goal-deadline">Meta: Diciembre 2024</span>
                    </div>
                </div>
            </div>
        </section>
        <!-- Database Dimensions -->
        <section class="dimensions-section">
            <h2>Dimensiones de la Base de Datos</h2>

            <h3>Dimensi√≥n de Cuentas</h3>
            <table class="schema-table">
                <thead>
                    <tr><th>Columna</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>cuenta_id</td><td>Identificador √∫nico de la cuenta</td></tr>
                    <tr><td>cuenta_nombre</td><td>Nombre de la cuenta</td></tr>
                    <tr><td>tipo_cuenta</td><td>Tipo de la cuenta</td></tr>
                    <tr><td>banco</td><td>Entidad bancaria</td></tr>
                    <tr><td>nro_mascarado</td><td>N√∫mero de cuenta enmascarado</td></tr>
                    <tr><td>moneda_base</td><td>Moneda base de la cuenta</td></tr>
                    <tr><td>activa</td><td>Indica si la cuenta est√° activa</td></tr>
                </tbody>
            </table>

            <h3>Dimensi√≥n de Contrapartes</h3>
            <table class="schema-table">
                <thead>
                    <tr><th>Columna</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>contraparte_id</td><td>Identificador de la contraparte</td></tr>
                    <tr><td>contraparte_nombre</td><td>Nombre de la contraparte</td></tr>
                    <tr><td>tipo</td><td>Tipo general de contraparte</td></tr>
                    <tr><td>subtipo</td><td>Subtipo de la contraparte</td></tr>
                    <tr><td>activa</td><td>Indica si est√° activa</td></tr>
                    <tr><td>notas</td><td>Notas adicionales</td></tr>
                </tbody>
            </table>

            <h3>Dimensi√≥n de Categor√≠as</h3>
            <table class="schema-table">
                <thead>
                    <tr><th>Columna</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>categoria_id</td><td>Identificador de la categor√≠a</td></tr>
                    <tr><td>tipo_flujo</td><td>Tipo de flujo (ingreso/gasto)</td></tr>
                    <tr><td>categoria_nombre</td><td>Nombre de la categor√≠a</td></tr>
                    <tr><td>grupo</td><td>Grupo principal</td></tr>
                    <tr><td>subgrupo</td><td>Subgrupo de la categor√≠a</td></tr>
                </tbody>
            </table>

            <h3>Dimensi√≥n de Instrumentos</h3>
            <table class="schema-table">
                <thead>
                    <tr><th>Columna</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>instrumento_id</td><td>Identificador del instrumento</td></tr>
                    <tr><td>instrumento_nombre</td><td>Nombre del instrumento</td></tr>
                    <tr><td>tipo</td><td>Tipo de instrumento</td></tr>
                    <tr><td>emisor</td><td>Entidad emisora</td></tr>
                    <tr><td>monto_inicial</td><td>Importe inicial</td></tr>
                    <tr><td>plazo</td><td>Plazo en d√≠as</td></tr>
                    <tr><td>tasa</td><td>Tasa de inter√©s</td></tr>
                    <tr><td>v_cuota</td><td>Valor de la cuota</td></tr>
                    <tr><td>monto_actual</td><td>Saldo actual</td></tr>
                    <tr><td>cupo</td><td>Cupo disponible</td></tr>
                    <tr><td>moneda</td><td>Moneda del instrumento</td></tr>
                    <tr><td>observaciones</td><td>Notas u observaciones</td></tr>
                </tbody>
            </table>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" id="rateAppBtn"><i class="fas fa-star"></i> Valorar App</a>
                <a href="#" id="feedbackBtn"><i class="fas fa-comment"></i> Feedback</a>
                <a href="#" id="supportBtn"><i class="fas fa-life-ring"></i> Soporte</a>
            </div>
            <div class="footer-info">
                <span>&copy; 2024 FinanceTracker. Todos los derechos reservados.</span>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <!-- All Transactions Modal -->
    <div id="allTransactionsModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Todas las Transacciones</h3>
                <button class="close-btn" id="closeAllTransactionsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="transactions-filters">
                    <div class="filter-group">
                        <label for="filterType">Tipo:</label>
                        <select id="filterType">
                            <option value="all">Todos</option>
                            <option value="income">Ingresos</option>
                            <option value="expense">Gastos</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterCategory">Categor√≠a:</label>
                        <select id="filterCategory">
                            <option value="all">Todas</option>
                            <option value="food">Alimentaci√≥n</option>
                            <option value="transport">Transporte</option>
                            <option value="entertainment">Entretenimiento</option>
                            <option value="utilities">Servicios</option>
                            <option value="salary">Salario</option>
                            <option value="other">Otros</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterDateFrom">Desde:</label>
                        <input type="date" id="filterDateFrom">
                    </div>
                    <div class="filter-group">
                        <label for="filterDateTo">Hasta:</label>
                        <input type="date" id="filterDateTo">
                    </div>
                    <button class="btn-filter" id="applyFiltersBtn">Aplicar Filtros</button>
                    <button class="btn-clear" id="clearFiltersBtn">Limpiar</button>
                </div>
                
                <div class="transactions-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Transacciones:</span>
                        <span id="totalTransactionsCount">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Total Ingresos:</span>
                        <span id="totalIncomeAmount" class="income">‚Ç¨0.00</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Total Gastos:</span>
                        <span id="totalExpenseAmount" class="expense">‚Ç¨0.00</span>
                    </div>
                </div>
                
                <div class="all-transactions-list" id="allTransactionsList">
                    <!-- Transactions will be populated here -->
                </div>
                
                <div class="pagination" id="transactionsPagination">
                    <button class="pagination-btn" id="prevPageBtn" disabled>Anterior</button>
                    <span class="pagination-info" id="paginationInfo">P√°gina 1 de 1</span>
                    <button class="pagination-btn" id="nextPageBtn" disabled>Siguiente</button>
                </div>
            </div>
        </div>
    </div>

    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nueva Transacci√≥n</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="transactionForm">
                <div class="form-section">
                    <h4>Datos principales</h4>
                    <div class="form-group">
                        <label for="transactionType">Tipo</label>
                        <select id="transactionType" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="income">Ingreso</option>
                            <option value="expense">Gasto</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transactionAmount">Cantidad</label>
                        <input type="number" id="transactionAmount" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="cuentaId">Cuenta</label>
                        <select id="cuentaId" required>
                            <option value="">Seleccionar cuenta</option>
                            <option value="1">Cuenta 1</option>
                            <option value="2">Cuenta 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="categoriaId">Categor√≠a</label>
                        <select id="categoriaId" required>
                            <option value="">Seleccionar categor√≠a</option>
                            <option value="food">Alimentaci√≥n</option>
                            <option value="transport">Transporte</option>
                            <option value="entertainment">Entretenimiento</option>
                            <option value="utilities">Servicios</option>
                            <option value="salary">Salario</option>
                            <option value="other">Otros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transactionDescription">Descripci√≥n</label>
                        <input type="text" id="transactionDescription" required>
                    </div>
                    <div class="form-group">
                        <label for="transactionDate">Fecha</label>
                        <input type="date" id="transactionDate" required>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Detalles adicionales</h4>
                    <div class="form-group">
                        <label for="contraparteId">Contraparte</label>
                        <select id="contraparteId">
                            <option value="">Seleccionar contraparte</option>
                            <option value="cliente">Cliente</option>
                            <option value="proveedor">Proveedor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="instrumentoId">Instrumento</label>
                        <select id="instrumentoId">
                            <option value="">Seleccionar instrumento</option>
                            <option value="efectivo">Efectivo</option>
                            <option value="tarjeta">Tarjeta</option>
                            <option value="transferencia">Transferencia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="moneda">Moneda</label>
                        <select id="moneda" required>
                            <option value="">Seleccionar moneda</option>
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tasaCambio">Tasa de Cambio</label>
                        <input type="number" id="tasaCambio" step="0.0001" required>
                    </div>
                    <div class="form-group">
                        <label for="estado">Estado</label>
                        <select id="estado" required>
                            <option value="">Seleccionar estado</option>
                            <option value="pendiente">Pendiente</option>
                            <option value="completado">Completado</option>
                            <option value="cancelado">Cancelado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="temporal">Temporal</label>
                        <input type="checkbox" id="temporal">
                    </div>
                    <div class="form-group">
                        <label for="etiquetas">Etiquetas</label>
                        <input type="text" id="etiquetas" placeholder="ej: casa, trabajo">
                    </div>
                    <div class="form-group">
                        <label for="referencia">Referencia</label>
                        <input type="text" id="referencia">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-cancel">Cancelar</button>
                    <button type="submit" class="btn-submit">Guardar Transacci√≥n</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
